<!doctype html>
<html lang="en" id="top">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="color-scheme" content="light"/>
  <title>ACKZERO — Independent Proof of Message Issuance</title>
  <meta name="description" content="ACKZERO is a simple, independent digital acknowledgement: a verifiable proof that a message was issued and made available at a specific time — without accounts and without storing content."/>
  <meta name="robots" content="index,follow"/>
  <meta name="referrer" content="strict-origin-when-cross-origin"/>
  <link rel="canonical" href="https://ackzero.io/"/>

  <style>
    :root{
      color-scheme: light;
      --bg: #f6f7fb;
      --panel: #ffffff;
      --text: #0b1220;
      --muted: #556274;
      --muted2:#7a8798;
      --line: #e6e9f2;
      --shadow: 0 22px 55px rgba(13, 24, 45, .10);
      --shadow2: 0 10px 30px rgba(13, 24, 45, .08);

      --accent: #2563eb;     /* primary */
      --accent2:#0ea5e9;     /* secondary */
      --ok: #16a34a;
      --warn:#f59e0b;

      --radius-lg: 18px;
      --radius-md: 14px;
      --radius-sm: 12px;

      --max: 1120px;
      --padX: 22px;
    }

    *{box-sizing:border-box}
    html, body { height:100% }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1200px 700px at 10% -10%, rgba(37,99,235,.14), transparent 55%),
        radial-gradient(900px 600px at 95% 0%, rgba(14,165,233,.10), transparent 50%),
        linear-gradient(180deg, #ffffff 0%, var(--bg) 45%, #ffffff 100%);
      -webkit-font-smoothing: antialiased;
      text-rendering: optimizeLegibility;
    }

    a{ color: var(--accent); text-decoration: none }
    a:hover{ text-decoration: underline }
    code, pre{
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
    }

    .wrap{ max-width: var(--max); margin: 0 auto; padding: 20px var(--padX) 76px; }
    .skip{
      position:absolute; left:-999px; top:auto; width:1px; height:1px; overflow:hidden;
    }
    .skip:focus{
      left: 20px; top: 12px; width:auto; height:auto; padding:10px 12px;
      background: var(--panel); border:1px solid var(--line); border-radius: 10px;
      box-shadow: var(--shadow2); z-index:9999;
    }

    header{
      position: sticky;
      top: 0;
      z-index: 20;
      backdrop-filter: saturate(140%) blur(10px);
      background: rgba(255,255,255,.75);
      border-bottom: 1px solid rgba(230,233,242,.7);
    }
    .header-inner{
      max-width: var(--max);
      margin: 0 auto;
      padding: 14px var(--padX);
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap: 14px;
    }

    .brand{
      display:flex; align-items:center; gap: 12px;
      min-width: 180px;
    }
    .logo{
      width: 38px; height: 38px; border-radius: 999px;
      display:inline-flex; align-items:center; justify-content:center;
      background: conic-gradient(from 210deg, var(--accent), #60a5fa, var(--accent2), var(--accent));
      box-shadow: 0 10px 24px rgba(37,99,235,.22);
      border: 1px solid rgba(37,99,235,.20);
      position: relative;
      overflow:hidden;
    }
    .logo::after{
      content:"";
      position:absolute; inset: 2px; border-radius: inherit;
      background: radial-gradient(circle at 20% 20%, rgba(255,255,255,.55), transparent 55%);
      mix-blend-mode: screen;
    }
    .logo span{
      position: relative;
      font-weight: 900;
      letter-spacing: .08em;
      font-size: 13px;
      color: #fff;
    }
    .brand-title{ font-weight: 900; letter-spacing: .08em }
    .brand-sub{ font-size: 12px; color: var(--muted); margin-top: 2px }

    nav{
      display:flex; align-items:center; gap: 14px;
      flex-wrap: wrap;
      justify-content:flex-end;
    }
    nav a{
      color: var(--muted);
      font-size: 13px;
      font-weight: 650;
      padding: 8px 10px;
      border-radius: 999px;
    }
    nav a:hover{
      color: var(--text);
      background: rgba(37,99,235,.06);
      text-decoration: none;
    }

    .cta{
      display:inline-flex; align-items:center; gap: 8px;
      padding: 10px 14px;
      border-radius: 999px;
      font-size: 13px;
      font-weight: 850;
      border: 1px solid rgba(37,99,235,.22);
      background: linear-gradient(135deg, rgba(37,99,235,.12), rgba(14,165,233,.10));
      color: var(--text);
      box-shadow: 0 10px 24px rgba(13,24,45,.08);
      white-space: nowrap;
    }
    .cta .dot{
      width: 8px; height: 8px; border-radius: 999px;
      background: var(--ok);
      box-shadow: 0 0 0 4px rgba(22,163,74,.14);
    }

    .hero{
      padding: 52px 0 10px;
    }
    .eyebrow-row{
      display:flex; flex-wrap: wrap; gap: 10px;
      margin: 0 0 12px;
      align-items:center;
    }
    .chip{
      display:inline-flex; align-items:center; gap: 8px;
      padding: 6px 12px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.7);
      border-radius: 999px;
      font-size: 12px;
      color: var(--muted);
      box-shadow: 0 8px 20px rgba(13,24,45,.06);
    }
    .chip b{ color: var(--text) }
    .chip .tag{
      padding: 3px 10px;
      border-radius: 999px;
      background: rgba(37,99,235,.10);
      border: 1px solid rgba(37,99,235,.12);
      color: #1d4ed8;
      font-weight: 800;
    }

    h1{
      margin: 0 0 12px;
      font-size: clamp(34px, 4.8vw, 54px);
      line-height: 1.03;
      letter-spacing: -0.02em;
    }
    .lead{
      margin: 0 0 18px;
      font-size: 16px;
      line-height: 1.7;
      color: var(--muted);
      max-width: 820px;
    }
    .lead b{ color: var(--text) }

    .hero-grid{
      display:grid;
      grid-template-columns: minmax(0, 1.15fr) minmax(0, 0.85fr);
      gap: 22px;
      align-items: start;
      margin-top: 22px;
    }
    @media (max-width: 980px){
      .hero-grid{ grid-template-columns: 1fr; }
      nav{ justify-content:flex-start; }
      .header-inner{ align-items:flex-start; flex-direction: column; }
    }

    .card{
      background: var(--panel);
      border: 1px solid var(--line);
      border-radius: var(--radius-lg);
      box-shadow: var(--shadow2);
    }
    .card.pad{ padding: 16px 16px 16px; }

    .pill-row{ display:flex; flex-wrap: wrap; gap: 10px; margin: 0 0 10px; }
    .pill{
      display:inline-flex; align-items:center; gap: 8px;
      padding: 7px 12px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(246,247,251,.8);
      font-size: 12px;
      color: var(--muted);
      font-weight: 650;
    }
    .pill .dot{
      width: 8px; height: 8px; border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 4px rgba(37,99,235,.10);
    }

    .cta-row{
      display:flex; flex-wrap: wrap; gap: 10px;
      align-items:center;
      margin: 14px 0 6px;
    }
    .btn{
      display:inline-flex; align-items:center; justify-content:center;
      padding: 12px 16px;
      border-radius: 999px;
      border: 0;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color: #fff;
      font-weight: 900;
      font-size: 13px;
      box-shadow: 0 14px 30px rgba(37,99,235,.22);
      cursor: pointer;
      text-decoration: none;
    }
    .btn:hover{ text-decoration:none; filter: brightness(0.98); }
    .btn-outline{
      display:inline-flex; align-items:center; justify-content:center;
      padding: 11px 15px;
      border-radius: 999px;
      border: 1px solid rgba(13,24,45,.14);
      background: rgba(255,255,255,.65);
      color: var(--text);
      font-weight: 850;
      font-size: 13px;
      cursor: pointer;
      text-decoration: none;
    }
    .btn-outline:hover{ text-decoration:none; background: rgba(255,255,255,.9); }

    .note{
      font-size: 12px;
      color: var(--muted2);
      margin-top: 10px;
      display:flex; flex-wrap: wrap; gap: 8px;
    }
    .note span{
      padding: 5px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.65);
    }

    .sandbox-title{
      display:flex; align-items:center; justify-content:space-between;
      gap: 10px;
      margin: 0 0 10px;
    }
    .sandbox-title b{
      font-size: 12px;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: var(--muted);
    }
    .badge{
      font-size: 12px;
      font-weight: 900;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid rgba(22,163,74,.22);
      background: rgba(22,163,74,.10);
      color: #166534;
      white-space: nowrap;
    }

    .field{
      display:flex;
      gap: 10px;
      align-items:center;
      margin: 0 0 10px;
    }
    .input{
      width: 100%;
      padding: 12px 12px;
      border-radius: var(--radius-sm);
      border: 1px solid rgba(13,24,45,.14);
      background: rgba(246,247,251,.65);
      color: var(--text);
      outline: none;
      font-size: 13px;
    }
    .input::placeholder{ color: #8a96a6 }
    .small-btn{
      padding: 12px 14px;
      border-radius: var(--radius-sm);
      border: 0;
      background: linear-gradient(135deg, var(--accent), var(--accent2));
      color: #fff;
      font-weight: 900;
      font-size: 13px;
      cursor: pointer;
      white-space: nowrap;
    }
    .small-btn[disabled]{ opacity: .55; cursor: not-allowed; }

    .hint-row{
      display:flex; flex-wrap: wrap; gap: 8px;
      margin: 0 0 12px;
    }
    .hint{
      font-size: 12px;
      color: var(--muted);
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(255,255,255,.6);
    }

    .code{
      border: 1px solid rgba(13,24,45,.10);
      background: #0b1220;
      color: #e8eefc;
      border-radius: var(--radius-md);
      padding: 12px 12px;
      font-size: 12px;
      line-height: 1.55;
      overflow-x: auto;
      white-space: pre;
      box-shadow: 0 16px 40px rgba(13,24,45,.12);
      min-height: 170px;
    }
    .code .dim{ color: rgba(232,238,252,.65) }

    section{
      margin-top: 42px;
    }
    .section-kicker{
      font-size: 12px;
      letter-spacing: .14em;
      text-transform: uppercase;
      color: var(--muted2);
      margin: 0 0 8px;
    }
    h2{
      margin: 0 0 10px;
      font-size: 22px;
      letter-spacing: -0.01em;
    }
    .sub{
      margin: 0 0 16px;
      color: var(--muted);
      line-height: 1.7;
      font-size: 15px;
      max-width: 900px;
    }
    .sub b{ color: var(--text) }

    .grid{
      display:grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 14px;
    }
    .feature{
      padding: 14px 14px 14px;
    }
    .feature h3{
      margin: 0 0 8px;
      font-size: 14px;
      letter-spacing: -0.01em;
    }
    .feature p{
      margin: 0;
      font-size: 13px;
      color: var(--muted);
      line-height: 1.65;
    }

    .compare{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap: 14px;
      align-items:start;
    }
    @media (max-width: 980px){
      .compare{ grid-template-columns: 1fr; }
    }
    .compare .card{ padding: 14px 14px 14px; }
    .compare-title{
      display:flex; align-items:center; justify-content:space-between; gap: 10px;
      margin: 0 0 8px;
    }
    .compare-title b{
      font-size: 12px;
      letter-spacing: .12em;
      text-transform: uppercase;
    }
    .label{
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      border: 1px solid var(--line);
      background: rgba(246,247,251,.8);
      color: var(--muted);
      white-space: nowrap;
    }
    ul{
      margin: 0;
      padding-left: 18px;
      color: var(--muted);
      line-height: 1.65;
      font-size: 13px;
    }
    li b{ color: var(--text) }

    .legal{
      display:flex; flex-wrap: wrap; gap: 10px; align-items:center;
      padding: 12px 12px;
      border: 1px solid rgba(245,158,11,.22);
      background: rgba(245,158,11,.10);
      border-radius: var(--radius-md);
      color: #7c4a03;
      font-size: 13px;
      line-height: 1.55;
    }
    .legal b{ color: #5b3702 }

    footer{
      margin-top: 54px;
      padding-top: 18px;
      border-top: 1px solid var(--line);
      display:flex;
      flex-wrap: wrap;
      gap: 12px;
      justify-content: space-between;
      align-items: center;
      color: var(--muted);
      font-size: 12px;
    }
    footer nav a{
      padding: 0;
      background: transparent;
      border-radius: 0;
      font-size: 12px;
      color: var(--muted);
      font-weight: 650;
    }

    /* Accessibility */
    :focus-visible{
      outline: 3px solid rgba(37,99,235,.28);
      outline-offset: 2px;
      border-radius: 10px;
    }
  </style>
</head>

<body>
  <a class="skip" href="#main">Skip to content</a>

  <header role="banner">
    <div class="header-inner">
      <a class="brand" href="#top" aria-label="ACKZERO home">
        <div class="logo" aria-hidden="true"><span>AZ</span></div>
        <div>
          <div class="brand-title">ACKZERO</div>
          <div class="brand-sub">Independent proof of message issuance.</div>
        </div>
      </a>

      <nav aria-label="Primary">
        <a href="#how">How it works</a>
        <a href="#compare">Compare</a>
        <a href="#verify">Verify</a>
        <a href="#legal">Legal</a>
        <a class="cta" href="#try"><span class="dot" aria-hidden="true"></span>Create a proof</a>
      </nav>
    </div>
  </header>

  <main id="main" class="wrap" role="main">
    <div class="hero">
      <div class="eyebrow-row">
        <div class="chip"><span class="tag">v0.1</span> <b>No accounts</b> · Hash-only · Public verification</div>
        <div class="chip">Target: <b>Europe + United Kingdom</b></div>
      </div>

      <h1>Prove you sent it.<br/>Independently.</h1>

      <p class="lead">
        ACKZERO creates a <b>neutral, verifiable receipt</b> showing that a specific message was issued and made available at a precise time —
        <b>without storing the message</b> and <b>without requiring the recipient to sign up</b>.
      </p>

      <div class="hero-grid">
        <div>
          <div class="pill-row" aria-label="Key points">
            <div class="pill"><span class="dot" aria-hidden="true"></span>Timestamped issuance</div>
            <div class="pill"><span class="dot" aria-hidden="true"></span>Cryptographic hashes</div>
            <div class="pill"><span class="dot" aria-hidden="true"></span>Public verification link</div>
            <div class="pill"><span class="dot" aria-hidden="true"></span>Privacy-first</div>
          </div>

          <div class="cta-row">
            <a class="btn" href="#try">Create a proof</a>
            <a class="btn-outline" href="#compare">See the comparison</a>
          </div>

          <div class="note" aria-label="Notes">
            <span>Free sandbox</span>
            <span>Rate-limited</span>
            <span>No SMTP in v0.1</span>
            <span>Recipient never needs an account</span>
          </div>

          <section style="margin-top:18px">
            <div class="card pad">
              <div class="section-kicker">The problem</div>
              <h2 style="margin-top:0">“I never received it.”</h2>
              <p class="sub" style="margin-bottom:0">
                Email headers, screenshots, and local timestamps are easy to dispute and hard to verify independently.
                ACKZERO exists for the moment where proof matters more than intention.
              </p>
            </div>
          </section>
        </div>

        <!-- Sandbox -->
        <aside class="card pad" id="try" aria-label="Create a proof sandbox">
          <div class="sandbox-title">
            <b>Live sandbox</b>
            <span class="badge">No signup</span>
          </div>

          <div class="hint-row">
            <span class="hint">Hash-only</span>
            <span class="hint">Creates /p and /v links</span>
            <span class="hint">Optional pixel tracking</span>
          </div>

          <div class="field">
            <input id="to" class="input" type="text" inputmode="email" autocomplete="off"
                   placeholder="Recipient (email or reference) — used for hashing" aria-label="Recipient"/>
          </div>
          <div class="field">
            <input id="subject" class="input" type="text" autocomplete="off"
                   placeholder="Subject (optional)" aria-label="Subject"/>
          </div>
          <div class="field">
            <input id="body" class="input" type="text" autocomplete="off"
                   placeholder="Message (optional) — hashed client-side in future UI" aria-label="Message"/>
          </div>

          <div class="field">
            <button id="create" class="small-btn" type="button">Create proof</button>
            <a class="btn-outline" href="#verify" style="padding:12px 14px">How to verify</a>
          </div>

          <pre class="code" id="out" aria-live="polite"><span class="dim">{
  "ok": true,
  "id": "...",
  "token": "...",
  "createdAt": "...",
  "urls": { "claim": "...", "receipt": "...", "pixel": "..." },
  "hashes": { "to": "...", "subject": "...", "body": "...", "meta": "" }
}</span></pre>

          <div class="sub" style="margin:10px 0 0;font-size:13px">
            Tip: include the <b>claim link</b> in your message. Later, anyone can verify the receipt JSON.
          </div>
        </aside>
      </div>
    </div>

    <!-- How -->
    <section id="how">
      <div class="section-kicker">How it works</div>
      <h2>Simple by design.</h2>
      <p class="sub">
        ACKZERO does not send messages. You keep your normal email workflow.
        ACKZERO creates a proof that your message <b>existed</b> and was <b>made available</b> at a specific time.
      </p>

      <div class="grid">
        <div class="card feature">
          <h3>1) Write your message</h3>
          <p>Prepare your email/letter normally. Choose a recipient identifier (email or reference).</p>
        </div>
        <div class="card feature">
          <h3>2) Create a proof</h3>
          <p>ACKZERO stores hashes + timestamps only and returns a verification link.</p>
        </div>
        <div class="card feature">
          <h3>3) Include the link</h3>
          <p>Paste the claim link in your message (or attach it to a PDF / ticket / CRM note).</p>
        </div>
        <div class="card feature">
          <h3>4) Verify later</h3>
          <p>Anyone can check the public receipt JSON and its signature without authentication.</p>
        </div>
      </div>
    </section>

    <!-- What it proves -->
    <section id="verify">
      <div class="section-kicker">What it proves</div>
      <h2>Evidence of issuance — not guaranteed receipt.</h2>
      <p class="sub">
        ACKZERO proves factual elements only: when the proof was created, and which exact message/recipient reference it matches (via hashes).
      </p>

      <div class="compare">
        <div class="card">
          <div class="compare-title">
            <b>ACKZERO proves</b>
            <span class="label" style="border-color:rgba(22,163,74,.22); background:rgba(22,163,74,.10); color:#166534">Yes</span>
          </div>
          <ul>
            <li><b>When</b> a message was issued (UTC timestamp)</li>
            <li><b>Which exact message</b> (cryptographic hash)</li>
            <li><b>Which recipient reference</b> (hashed identifier)</li>
            <li><b>Independent verification</b> via public receipt JSON</li>
          </ul>
        </div>

        <div class="card">
          <div class="compare-title">
            <b>ACKZERO does not prove</b>
            <span class="label" style="border-color:rgba(245,158,11,.22); background:rgba(245,158,11,.10); color:#7c4a03">No</span>
          </div>
          <ul>
            <li>The recipient <b>read</b> or <b>accepted</b> the message</li>
            <li>Legal equivalence to regulated registered delivery (depends on jurisdiction)</li>
            <li>The recipient’s legal identity beyond what the sender encodes and hashes</li>
          </ul>
        </div>
      </div>

      <div class="card pad" style="margin-top:14px">
        <div class="section-kicker">Practical example</div>
        <h2 style="margin-top:0">Cancellation notice</h2>
        <p class="sub" style="margin-bottom:10px">
          You send: “I hereby cancel my contract effective today.” and include:
          <code>https://ackzero.io/p/&lt;token&gt;</code>
        </p>
        <p class="sub" style="margin:0">
          Later, if disputed, anyone can open the receipt JSON at <code>/v/&lt;id&gt;</code> to verify the timestamp and hashes.
        </p>
      </div>
    </section>

    <!-- Compare -->
    <section id="compare">
      <div class="section-kicker">Compare</div>
      <h2>Not “another email tool”. A proof layer.</h2>
      <p class="sub">
        The difference is not communication — it’s verifiability. ACKZERO is designed to be independent from mail providers and user interfaces.
      </p>

      <div class="compare">
        <div class="card">
          <div class="compare-title">
            <b>Email evidence</b>
            <span class="label">provider-dependent</span>
          </div>
          <ul>
            <li><b>Local timestamps</b> can be disputed</li>
            <li><b>Screenshots</b> are easy to fake</li>
            <li><b>Headers</b> are not user-friendly to verify</li>
            <li><b>Hard to prove</b> what exact content existed later</li>
          </ul>
        </div>

        <div class="card">
          <div class="compare-title">
            <b>ACKZERO</b>
            <span class="label">independent verification</span>
          </div>
          <ul>
            <li><b>Trusted timestamp</b> anchored at creation</li>
            <li><b>Cryptographic hashes</b> for message + recipient reference</li>
            <li><b>Public receipt JSON</b> that anyone can check</li>
            <li><b>Signature</b> to detect tampering of the receipt</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- Legal -->
    <section id="legal">
      <div class="section-kicker">Legal positioning</div>
      <h2>Clear scope. No over-claim.</h2>
      <p class="sub">
        ACKZERO provides <b>technical proof of issuance</b>, not legal delivery certification.
        Evidentiary value depends on jurisdiction and context (Europe & UK focus in v0.1).
      </p>

      <div class="legal" role="note" aria-label="Legal note">
        <b>Important:</b> ACKZERO is not a regulated registered electronic delivery service. It is a neutral, cryptographic record that can strengthen disputes and good-faith communication.
      </div>
    </section>

    <footer>
      <div>© ACKZERO — Independent proof of message issuance.</div>
      <nav aria-label="Footer">
        <a href="#try">Create</a>
        <a href="#verify">Verify</a>
        <a href="#legal">Legal</a>
        <a href="mailto:hello@ackzero.io">hello@ackzero.io</a>
      </nav>
    </footer>
  </main>

  <script>
    (function(){
      // Update this if your API base differs in v0.1.
      // For your current worker, it is:
      //   https://ackzero.jeason-bacoul.workers.dev
      const API_BASE = "https://ackzero.jeason-bacoul.workers.dev";
      const ENDPOINT = API_BASE.replace(/\/$/, "") + "/v1/proofs";

      const $to = document.getElementById("to");
      const $subject = document.getElementById("subject");
      const $body = document.getElementById("body");
      const $btn = document.getElementById("create");
      const $out = document.getElementById("out");

      function safe(v){ return (v == null) ? "" : String(v); }

      function render(obj){
        $out.textContent = JSON.stringify(obj, null, 2);
      }

      async function sha256Hex(str){
        const enc = new TextEncoder().encode(str);
        const dig = await crypto.subtle.digest("SHA-256", enc);
        const bytes = new Uint8Array(dig);
        let hex = "";
        for (const b of bytes) hex += b.toString(16).padStart(2, "0");
        return hex;
      }

      // v0.1 UX: we allow raw fields, but we already hash client-side here for better privacy.
      async function run(){
        const toRaw = safe($to.value).trim();
        const subjectRaw = safe($subject.value).trim();
        const bodyRaw = safe($body.value).trim();

        if(!toRaw){
          render({ error: { code: "missing_recipient", message: "Please enter a recipient (email or reference)."} });
          $to.focus();
          return;
        }

        $btn.disabled = true;
        $btn.textContent = "Creating…";

        try{
          // Canonicalization (simple v0.1): normalize line endings, trim trailing spaces
          const canonBody = bodyRaw.replace(/\r\n/g, "\n").replace(/[ \t]+$/gm, "").trim();

          const payload = {
            hashes: {
              to: await sha256Hex(toRaw.toLowerCase()),
              subject: subjectRaw ? await sha256Hex(subjectRaw) : "",
              body: canonBody ? await sha256Hex(canonBody) : ""
            },
            meta: null
          };

          render({ status: "posting", endpoint: ENDPOINT, payload });

          const res = await fetch(ENDPOINT, {
            method: "POST",
            headers: { "content-type":"application/json" },
            body: JSON.stringify(payload)
          });

          const data = await res.json().catch(()=>({ error:{ code:"bad_json", message:"Non-JSON response." } }));
          if(!res.ok){
            render({ http_status: res.status, ...data });
          }else{
            render(data);
          }
        }catch(e){
          render({ error: { code: "network_error", message: safe(e && e.message ? e.message : e) } });
        }finally{
          $btn.disabled = false;
          $btn.textContent = "Create proof";
        }
      }

      $btn.addEventListener("click", run);
      [$to,$subject,$body].forEach(el=>{
        el.addEventListener("keydown", (e)=>{ if(e.key === "Enter") run(); });
      });
    })();
  </script>
</body>
</html>
